(()=>{function S(e,t,i){const o=document.createElement(t);return e&&(o.className=e),i&&i.appendChild(o),o}function ee(e,t,i){let o=`translate3d(${e}px,${t||0}px,0)`;return i!==void 0&&(o+=` scale3d(${i},${i},1)`),o}function A(e,t,i){e.style.width=typeof t=="number"?`${t}px`:t,e.style.height=typeof i=="number"?`${i}px`:i}const f={IDLE:"idle",LOADING:"loading",LOADED:"loaded",ERROR:"error"};function te(e){return"button"in e&&e.button===1||e.ctrlKey||e.metaKey||e.altKey||e.shiftKey}function D(e,t,i=document){let o=[];if(e instanceof Element)o=[e];else if(e instanceof NodeList||Array.isArray(e))o=Array.from(e);else{const n=typeof e=="string"?e:t;n&&(o=Array.from(i.querySelectorAll(n)))}return o}function ie(e){return typeof e=="function"&&e.prototype&&e.prototype.goTo}function O(){return!!(navigator.vendor&&navigator.vendor.match(/apple/i))}class oe{constructor(e,t){this.type=e,this.defaultPrevented=!1,t&&Object.assign(this,t)}preventDefault(){this.defaultPrevented=!0}}class ne{constructor(){this._listeners={},this._filters={},this.pswp=void 0,this.options=void 0}addFilter(e,t,i=100){var o,n,s;this._filters[e]||(this._filters[e]=[]),(o=this._filters[e])===null||o===void 0||o.push({fn:t,priority:i}),(n=this._filters[e])===null||n===void 0||n.sort((a,r)=>a.priority-r.priority),(s=this.pswp)===null||s===void 0||s.addFilter(e,t,i)}removeFilter(e,t){this._filters[e]&&(this._filters[e]=this._filters[e].filter(i=>i.fn!==t)),this.pswp&&this.pswp.removeFilter(e,t)}applyFilters(e,...t){var i;return(i=this._filters[e])===null||i===void 0||i.forEach(o=>{t[0]=o.fn.apply(this,t)}),t[0]}on(e,t){var i,o;this._listeners[e]||(this._listeners[e]=[]),(i=this._listeners[e])===null||i===void 0||i.push(t),(o=this.pswp)===null||o===void 0||o.on(e,t)}off(e,t){var i;this._listeners[e]&&(this._listeners[e]=this._listeners[e].filter(o=>t!==o)),(i=this.pswp)===null||i===void 0||i.off(e,t)}dispatch(e,t){var i;if(this.pswp)return this.pswp.dispatch(e,t);const o=new oe(e,t);return(i=this._listeners[e])===null||i===void 0||i.forEach(n=>{n.call(this,o)}),o}}class se{constructor(e,t){if(this.element=S("pswp__img pswp__img--placeholder",e?"img":"div",t),e){const i=this.element;i.decoding="async",i.alt="",i.src=e,i.setAttribute("role","presentation")}this.element.setAttribute("aria-hidden","true")}setDisplayedSize(e,t){if(!this.element)return;this.element.tagName==="IMG"?(A(this.element,250,"auto"),this.element.style.transformOrigin="0 0",this.element.style.transform=ee(0,0,e/250)):A(this.element,e,t)}destroy(){var e;(e=this.element)!==null&&e!==void 0&&e.parentNode&&this.element.remove(),this.element=null}}class ae{constructor(e,t,i){this.instance=t,this.data=e,this.index=i,this.element=void 0,this.placeholder=void 0,this.slide=void 0,this.displayedImageWidth=0,this.displayedImageHeight=0,this.width=Number(this.data.w)||Number(this.data.width)||0,this.height=Number(this.data.h)||Number(this.data.height)||0,this.isAttached=!1,this.hasSlide=!1,this.isDecoding=!1,this.state=f.IDLE,this.data.type?this.type=this.data.type:this.data.src?this.type="image":this.type="html",this.instance.dispatch("contentInit",{content:this})}removePlaceholder(){this.placeholder&&!this.keepPlaceholder()&&setTimeout(()=>{this.placeholder&&(this.placeholder.destroy(),this.placeholder=void 0)},1e3)}load(e,t){if(this.slide&&this.usePlaceholder())if(this.placeholder){const i=this.placeholder.element;i&&!i.parentElement&&this.slide.container.prepend(i)}else{const i=this.instance.applyFilters("placeholderSrc",this.data.msrc&&this.slide.isFirstSlide?this.data.msrc:!1,this);this.placeholder=new se(i,this.slide.container)}if(this.element&&!t)return;if(this.instance.dispatch("contentLoad",{content:this,isLazy:e}).defaultPrevented)return;this.isImageContent()?(this.element=S("pswp__img","img"),this.displayedImageWidth&&this.loadImage(e)):(this.element=S("pswp__content","div"),this.element.innerHTML=this.data.html||""),t&&this.slide&&this.slide.updateContentSize(!0)}loadImage(e){var t,i;if(!this.isImageContent()||!this.element||this.instance.dispatch("contentLoadImage",{content:this,isLazy:e}).defaultPrevented)return;const o=this.element;this.updateSrcsetSizes(),this.data.srcset&&(o.srcset=this.data.srcset),o.src=(t=this.data.src)!==null&&t!==void 0?t:"",o.alt=(i=this.data.alt)!==null&&i!==void 0?i:"",this.state=f.LOADING,o.complete?this.onLoaded():(o.onload=()=>{this.onLoaded()},o.onerror=()=>{this.onError()})}setSlide(e){this.slide=e,this.hasSlide=!0,this.instance=e.pswp}onLoaded(){this.state=f.LOADED,this.slide&&this.element&&(this.instance.dispatch("loadComplete",{slide:this.slide,content:this}),this.slide.isActive&&this.slide.heavyAppended&&!this.element.parentNode&&(this.append(),this.slide.updateContentSize(!0)),(this.state===f.LOADED||this.state===f.ERROR)&&this.removePlaceholder())}onError(){this.state=f.ERROR,this.slide&&(this.displayError(),this.instance.dispatch("loadComplete",{slide:this.slide,isError:!0,content:this}),this.instance.dispatch("loadError",{slide:this.slide,content:this}))}isLoading(){return this.instance.applyFilters("isContentLoading",this.state===f.LOADING,this)}isError(){return this.state===f.ERROR}isImageContent(){return this.type==="image"}setDisplayedSize(e,t){if(!this.element)return;if(this.placeholder&&this.placeholder.setDisplayedSize(e,t),this.instance.dispatch("contentResize",{content:this,width:e,height:t}).defaultPrevented)return;if(A(this.element,e,t),this.isImageContent()&&!this.isError()){const i=!this.displayedImageWidth&&e;this.displayedImageWidth=e,this.displayedImageHeight=t,i?this.loadImage(!1):this.updateSrcsetSizes(),this.slide&&this.instance.dispatch("imageSizeChange",{slide:this.slide,width:e,height:t,content:this})}}isZoomable(){return this.instance.applyFilters("isContentZoomable",this.isImageContent()&&this.state!==f.ERROR,this)}updateSrcsetSizes(){if(!this.isImageContent()||!this.element||!this.data.srcset)return;const e=this.element,t=this.instance.applyFilters("srcsetSizesWidth",this.displayedImageWidth,this);(!e.dataset.largestUsedSize||t>parseInt(e.dataset.largestUsedSize,10))&&(e.sizes=t+"px",e.dataset.largestUsedSize=String(t))}usePlaceholder(){return this.instance.applyFilters("useContentPlaceholder",this.isImageContent(),this)}lazyLoad(){if(this.instance.dispatch("contentLazyLoad",{content:this}).defaultPrevented)return;this.load(!0)}keepPlaceholder(){return this.instance.applyFilters("isKeepingPlaceholder",this.isLoading(),this)}destroy(){if(this.hasSlide=!1,this.slide=void 0,this.instance.dispatch("contentDestroy",{content:this}).defaultPrevented)return;this.remove(),this.placeholder&&(this.placeholder.destroy(),this.placeholder=void 0),this.isImageContent()&&this.element&&(this.element.onload=null,this.element.onerror=null,this.element=void 0)}displayError(){if(this.slide){var e,t;let i=S("pswp__error-msg","div");i.innerText=(e=(t=this.instance.options)===null||t===void 0?void 0:t.errorMsg)!==null&&e!==void 0?e:"",i=this.instance.applyFilters("contentErrorElement",i,this),this.element=S("pswp__content pswp__error-msg-container","div"),this.element.appendChild(i),this.slide.container.innerText="",this.slide.container.appendChild(this.element),this.slide.updateContentSize(!0),this.removePlaceholder()}}append(){if(this.isAttached||!this.element)return;if(this.isAttached=!0,this.state===f.ERROR){this.displayError();return}if(this.instance.dispatch("contentAppend",{content:this}).defaultPrevented)return;const e="decode"in this.element;this.isImageContent()?e&&this.slide&&(!this.slide.isActive||O())?(this.isDecoding=!0,this.element.decode().catch(()=>{}).finally(()=>{this.isDecoding=!1,this.appendImage()})):this.appendImage():this.slide&&!this.element.parentNode&&this.slide.container.appendChild(this.element)}activate(){if(this.instance.dispatch("contentActivate",{content:this}).defaultPrevented||!this.slide)return;this.isImageContent()&&this.isDecoding&&!O()?this.appendImage():this.isError()&&this.load(!1,!0),this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","false")}deactivate(){this.instance.dispatch("contentDeactivate",{content:this}),this.slide&&this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","true")}remove(){if(this.isAttached=!1,this.instance.dispatch("contentRemove",{content:this}).defaultPrevented)return;this.element&&this.element.parentNode&&this.element.remove(),this.placeholder&&this.placeholder.element&&this.placeholder.element.remove()}appendImage(){if(!this.isAttached)return;if(this.instance.dispatch("contentAppendImage",{content:this}).defaultPrevented)return;this.slide&&this.element&&!this.element.parentNode&&this.slide.container.appendChild(this.element),(this.state===f.LOADED||this.state===f.ERROR)&&this.removePlaceholder()}}function re(e,t){if(e.getViewportSizeFn){const i=e.getViewportSizeFn(e,t);if(i)return i}return{x:document.documentElement.clientWidth,y:window.innerHeight}}function L(e,t,i,o,n){let s=0;if(t.paddingFn)s=t.paddingFn(i,o,n)[e];else if(t.padding)s=t.padding[e];else{const a="padding"+e[0].toUpperCase()+e.slice(1);t[a]&&(s=t[a])}return Number(s)||0}function le(e,t,i,o){return{x:t.x-L("left",e,t,i,o)-L("right",e,t,i,o),y:t.y-L("top",e,t,i,o)-L("bottom",e,t,i,o)}}const k=4e3;class pe{constructor(e,t,i,o){this.pswp=o,this.options=e,this.itemData=t,this.index=i,this.panAreaSize=null,this.elementSize=null,this.fit=1,this.fill=1,this.vFill=1,this.initial=1,this.secondary=1,this.max=1,this.min=1}update(e,t,i){const o={x:e,y:t};this.elementSize=o,this.panAreaSize=i;const n=i.x/o.x,s=i.y/o.y;this.fit=Math.min(1,n<s?n:s),this.fill=Math.min(1,n>s?n:s),this.vFill=Math.min(1,s),this.initial=this._getInitial(),this.secondary=this._getSecondary(),this.max=Math.max(this.initial,this.secondary,this._getMax()),this.min=Math.min(this.fit,this.initial,this.secondary),this.pswp&&this.pswp.dispatch("zoomLevelsUpdate",{zoomLevels:this,slideData:this.itemData})}_parseZoomLevelOption(e){const t=e+"ZoomLevel",i=this.options[t];return i?typeof i=="function"?i(this):i==="fill"?this.fill:i==="fit"?this.fit:Number(i):void 0}_getSecondary(){let e=this._parseZoomLevelOption("secondary");return e||(e=Math.min(1,this.fit*3),this.elementSize&&e*this.elementSize.x>k&&(e=k/this.elementSize.x),e)}_getInitial(){return this._parseZoomLevelOption("initial")||this.fit}_getMax(){return this._parseZoomLevelOption("max")||Math.max(1,this.fit*4)}}function Z(e,t,i){const o=t.createContentFromData(e,i);let n;const{options:s}=t;if(s){n=new pe(s,e,-1);let a;t.pswp?a=t.pswp.viewportSize:a=re(s,t);const r=le(s,a,e,i);n.update(o.width,o.height,r)}return o.lazyLoad(),n&&o.setDisplayedSize(Math.ceil(o.width*n.initial),Math.ceil(o.height*n.initial)),o}function de(e,t){const i=t.getItemData(e);return t.dispatch("lazyLoadSlide",{index:e,itemData:i}).defaultPrevented?void 0:Z(i,t,e)}class he extends ne{getNumItems(){var e;let t=0;const i=(e=this.options)===null||e===void 0?void 0:e.dataSource;i&&"length"in i?t=i.length:i&&"gallery"in i&&(i.items||(i.items=this._getGalleryDOMElements(i.gallery)),i.items&&(t=i.items.length));const o=this.dispatch("numItems",{dataSource:i,numItems:t});return this.applyFilters("numItems",o.numItems,i)}createContentFromData(e,t){return new ae(e,this,t)}getItemData(e){var t;const i=(t=this.options)===null||t===void 0?void 0:t.dataSource;let o={};Array.isArray(i)?o=i[e]:i&&"gallery"in i&&(i.items||(i.items=this._getGalleryDOMElements(i.gallery)),o=i.items[e]);let n=o;n instanceof Element&&(n=this._domElementToItemData(n));const s=this.dispatch("itemData",{itemData:n||{},index:e});return this.applyFilters("itemData",s.itemData,e)}_getGalleryDOMElements(e){var t,i;return(t=this.options)!==null&&t!==void 0&&t.children||(i=this.options)!==null&&i!==void 0&&i.childSelector?D(this.options.children,this.options.childSelector,e)||[]:[e]}_domElementToItemData(e){const t={element:e},i=e.tagName==="A"?e:e.querySelector("a");if(i){t.src=i.dataset.pswpSrc||i.href,i.dataset.pswpSrcset&&(t.srcset=i.dataset.pswpSrcset),t.width=i.dataset.pswpWidth?parseInt(i.dataset.pswpWidth,10):0,t.height=i.dataset.pswpHeight?parseInt(i.dataset.pswpHeight,10):0,t.w=t.width,t.h=t.height,i.dataset.pswpType&&(t.type=i.dataset.pswpType);const n=e.querySelector("img");if(n){var o;t.msrc=n.currentSrc||n.src,t.alt=(o=n.getAttribute("alt"))!==null&&o!==void 0?o:""}(i.dataset.pswpCropped||i.dataset.cropped)&&(t.thumbCropped=!0)}return this.applyFilters("domItemData",t,e,i)}lazyLoadData(e,t){return Z(e,this,t)}}class H extends he{constructor(e){super();this.options=e||{},this._uid=0,this.shouldOpen=!1,this._preloadedContent=void 0,this.onThumbnailsClick=this.onThumbnailsClick.bind(this)}init(){D(this.options.gallery,this.options.gallerySelector).forEach(e=>{e.addEventListener("click",this.onThumbnailsClick,!1)})}onThumbnailsClick(e){if(te(e)||window.pswp)return;let t={x:e.clientX,y:e.clientY};!t.x&&!t.y&&(t=null);let i=this.getClickedIndex(e);i=this.applyFilters("clickedIndex",i,e,this);const o={gallery:e.currentTarget};i>=0&&(e.preventDefault(),this.loadAndOpen(i,o,t))}getClickedIndex(e){if(this.options.getClickedIndexFn)return this.options.getClickedIndexFn.call(this,e);const t=e.target,i=D(this.options.children,this.options.childSelector,e.currentTarget),o=i.findIndex(n=>n===t||n.contains(t));return o!==-1?o:this.options.children||this.options.childSelector?-1:0}loadAndOpen(e,t,i){return window.pswp?!1:(this.options.index=e,this.options.initialPointerPos=i,this.shouldOpen=!0,this.preload(e,t),!0)}preload(e,t){const{options:i}=this;t&&(i.dataSource=t);const o=[],n=typeof i.pswpModule;if(ie(i.pswpModule))o.push(Promise.resolve(i.pswpModule));else{if(n==="string")throw new Error("pswpModule as string is no longer supported");if(n==="function")o.push(i.pswpModule());else throw new Error("pswpModule is not valid")}typeof i.openPromise=="function"&&o.push(i.openPromise()),i.preloadFirstSlide!==!1&&e>=0&&(this._preloadedContent=de(e,this));const s=++this._uid;Promise.all(o).then(a=>{if(this.shouldOpen){const r=a[0];this._openPhotoswipe(r,s)}})}_openPhotoswipe(e,t){if(t!==this._uid&&this.shouldOpen)return;if(this.shouldOpen=!1,window.pswp)return;const i=typeof e=="object"?new e.default(this.options):new e(this.options);this.pswp=i,window.pswp=i,Object.keys(this._listeners).forEach(o=>{var n;(n=this._listeners[o])===null||n===void 0||n.forEach(s=>{i.on(o,s)})}),Object.keys(this._filters).forEach(o=>{var n;(n=this._filters[o])===null||n===void 0||n.forEach(s=>{i.addFilter(o,s.fn,s.priority)})}),this._preloadedContent&&(i.contentLoader.addToCache(this._preloadedContent),this._preloadedContent=void 0),i.on("destroy",()=>{this.pswp=void 0,delete window.pswp}),i.init()}destroy(){var e;(e=this.pswp)===null||e===void 0||e.destroy(),this.shouldOpen=!1,this._listeners={},D(this.options.gallery,this.options.gallerySelector).forEach(t=>{t.removeEventListener("click",this.onThumbnailsClick,!1)})}}function u(e,t,i){const o=document.createElement(t);return e&&(o.className=e),i&&i.appendChild(o),o}function h(e,t){return e.x=t.x,e.y=t.y,t.id!==void 0&&(e.id=t.id),e}function F(e){e.x=Math.round(e.x),e.y=Math.round(e.y)}function C(e,t){const i=Math.abs(e.x-t.x),o=Math.abs(e.y-t.y);return Math.sqrt(i*i+o*o)}function P(e,t){return e.x===t.x&&e.y===t.y}function _(e,t,i){return Math.min(Math.max(e,t),i)}function E(e,t,i){let o=`translate3d(${e}px,${t||0}px,0)`;return i!==void 0&&(o+=` scale3d(${i},${i},1)`),o}function v(e,t,i,o){e.style.transform=E(t,i,o)}const me="cubic-bezier(.4,0,.22,1)";function R(e,t,i,o){e.style.transition=t?`${t} ${i}ms ${o||me}`:"none"}function M(e,t,i){e.style.width=typeof t=="number"?`${t}px`:t,e.style.height=typeof i=="number"?`${i}px`:i}function ce(e){R(e)}function ue(e){return"decode"in e?e.decode().catch(()=>{}):e.complete?Promise.resolve(e):new Promise((t,i)=>{e.onload=()=>t(e),e.onerror=i})}const g={IDLE:"idle",LOADING:"loading",LOADED:"loaded",ERROR:"error"};function fe(e){return"button"in e&&e.button===1||e.ctrlKey||e.metaKey||e.altKey||e.shiftKey}function ge(e,t,i=document){let o=[];if(e instanceof Element)o=[e];else if(e instanceof NodeList||Array.isArray(e))o=Array.from(e);else{const n=typeof e=="string"?e:t;n&&(o=Array.from(i.querySelectorAll(n)))}return o}function j(){return!!(navigator.vendor&&navigator.vendor.match(/apple/i))}let B=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>{B=!0}}))}catch(e){}class ye{constructor(){this._pool=[]}add(e,t,i,o){this._toggleListener(e,t,i,o)}remove(e,t,i,o){this._toggleListener(e,t,i,o,!0)}removeAll(){this._pool.forEach(e=>{this._toggleListener(e.target,e.type,e.listener,e.passive,!0,!0)}),this._pool=[]}_toggleListener(e,t,i,o,n,s){if(!e)return;const a=n?"removeEventListener":"addEventListener",r=t.split(" ");r.forEach(l=>{if(l){s||(n?this._pool=this._pool.filter(d=>d.type!==l||d.listener!==i||d.target!==e):this._pool.push({target:e,type:l,listener:i,passive:o}));const p=B?{passive:o||!1}:!1;e[a](l,i,p)}})}}function N(e,t){if(e.getViewportSizeFn){const i=e.getViewportSizeFn(e,t);if(i)return i}return{x:document.documentElement.clientWidth,y:window.innerHeight}}function T(e,t,i,o,n){let s=0;if(t.paddingFn)s=t.paddingFn(i,o,n)[e];else if(t.padding)s=t.padding[e];else{const a="padding"+e[0].toUpperCase()+e.slice(1);t[a]&&(s=t[a])}return Number(s)||0}function U(e,t,i,o){return{x:t.x-T("left",e,t,i,o)-T("right",e,t,i,o),y:t.y-T("top",e,t,i,o)-T("bottom",e,t,i,o)}}class ve{constructor(e){this.slide=e,this.currZoomLevel=1,this.center={x:0,y:0},this.max={x:0,y:0},this.min={x:0,y:0}}update(e){this.currZoomLevel=e,this.slide.width?(this._updateAxis("x"),this._updateAxis("y"),this.slide.pswp.dispatch("calcBounds",{slide:this.slide})):this.reset()}_updateAxis(e){const{pswp:t}=this.slide,i=this.slide[e==="x"?"width":"height"]*this.currZoomLevel,o=e==="x"?"left":"top",n=T(o,t.options,t.viewportSize,this.slide.data,this.slide.index),s=this.slide.panAreaSize[e];this.center[e]=Math.round((s-i)/2)+n,this.max[e]=i>s?Math.round(s-i)+n:this.center[e],this.min[e]=i>s?n:this.center[e]}reset(){this.center.x=0,this.center.y=0,this.max.x=0,this.max.y=0,this.min.x=0,this.min.y=0}correctPan(e,t){return _(t,this.max[e],this.min[e])}}const W=4e3;class G{constructor(e,t,i,o){this.pswp=o,this.options=e,this.itemData=t,this.index=i,this.panAreaSize=null,this.elementSize=null,this.fit=1,this.fill=1,this.vFill=1,this.initial=1,this.secondary=1,this.max=1,this.min=1}update(e,t,i){const o={x:e,y:t};this.elementSize=o,this.panAreaSize=i;const n=i.x/o.x,s=i.y/o.y;this.fit=Math.min(1,n<s?n:s),this.fill=Math.min(1,n>s?n:s),this.vFill=Math.min(1,s),this.initial=this._getInitial(),this.secondary=this._getSecondary(),this.max=Math.max(this.initial,this.secondary,this._getMax()),this.min=Math.min(this.fit,this.initial,this.secondary),this.pswp&&this.pswp.dispatch("zoomLevelsUpdate",{zoomLevels:this,slideData:this.itemData})}_parseZoomLevelOption(e){const t=e+"ZoomLevel",i=this.options[t];return i?typeof i=="function"?i(this):i==="fill"?this.fill:i==="fit"?this.fit:Number(i):void 0}_getSecondary(){let e=this._parseZoomLevelOption("secondary");return e||(e=Math.min(1,this.fit*3),this.elementSize&&e*this.elementSize.x>W&&(e=W/this.elementSize.x),e)}_getInitial(){return this._parseZoomLevelOption("initial")||this.fit}_getMax(){return this._parseZoomLevelOption("max")||Math.max(1,this.fit*4)}}class we{constructor(e,t,i){this.data=e,this.index=t,this.pswp=i,this.isActive=t===i.currIndex,this.currentResolution=0,this.panAreaSize={x:0,y:0},this.pan={x:0,y:0},this.isFirstSlide=this.isActive&&!i.opener.isOpen,this.zoomLevels=new G(i.options,e,t,i),this.pswp.dispatch("gettingData",{slide:this,data:this.data,index:t}),this.content=this.pswp.contentLoader.getContentBySlide(this),this.container=u("pswp__zoom-wrap","div"),this.holderElement=null,this.currZoomLevel=1,this.width=this.content.width,this.height=this.content.height,this.heavyAppended=!1,this.bounds=new ve(this),this.prevDisplayedWidth=-1,this.prevDisplayedHeight=-1,this.pswp.dispatch("slideInit",{slide:this})}setIsActive(e){e&&!this.isActive?this.activate():!e&&this.isActive&&this.deactivate()}append(e){if(this.holderElement=e,this.container.style.transformOrigin="0 0",!this.data)return;this.calculateSize(),this.load(),this.updateContentSize(),this.appendHeavy(),this.holderElement.appendChild(this.container),this.zoomAndPanToInitial(),this.pswp.dispatch("firstZoomPan",{slide:this}),this.applyCurrentZoomPan(),this.pswp.dispatch("afterSetContent",{slide:this}),this.isActive&&this.activate()}load(){this.content.load(!1),this.pswp.dispatch("slideLoad",{slide:this})}appendHeavy(){const{pswp:e}=this,t=!0;if(this.heavyAppended||!e.opener.isOpen||e.mainScroll.isShifted()||!this.isActive&&!t)return;if(this.pswp.dispatch("appendHeavy",{slide:this}).defaultPrevented)return;this.heavyAppended=!0,this.content.append(),this.pswp.dispatch("appendHeavyContent",{slide:this})}activate(){this.isActive=!0,this.appendHeavy(),this.content.activate(),this.pswp.dispatch("slideActivate",{slide:this})}deactivate(){this.isActive=!1,this.content.deactivate(),this.currZoomLevel!==this.zoomLevels.initial&&this.calculateSize(),this.currentResolution=0,this.zoomAndPanToInitial(),this.applyCurrentZoomPan(),this.updateContentSize(),this.pswp.dispatch("slideDeactivate",{slide:this})}destroy(){this.content.hasSlide=!1,this.content.remove(),this.container.remove(),this.pswp.dispatch("slideDestroy",{slide:this})}resize(){this.currZoomLevel===this.zoomLevels.initial||!this.isActive?(this.calculateSize(),this.currentResolution=0,this.zoomAndPanToInitial(),this.applyCurrentZoomPan(),this.updateContentSize()):(this.calculateSize(),this.bounds.update(this.currZoomLevel),this.panTo(this.pan.x,this.pan.y))}updateContentSize(e){const t=this.currentResolution||this.zoomLevels.initial;if(!t)return;const i=Math.round(this.width*t)||this.pswp.viewportSize.x,o=Math.round(this.height*t)||this.pswp.viewportSize.y;if(!this.sizeChanged(i,o)&&!e)return;this.content.setDisplayedSize(i,o)}sizeChanged(e,t){return e!==this.prevDisplayedWidth||t!==this.prevDisplayedHeight?(this.prevDisplayedWidth=e,this.prevDisplayedHeight=t,!0):!1}getPlaceholderElement(){var e;return(e=this.content.placeholder)===null||e===void 0?void 0:e.element}zoomTo(e,t,i,o){const{pswp:n}=this;if(!this.isZoomable()||n.mainScroll.isShifted())return;n.dispatch("beforeZoomTo",{destZoomLevel:e,centerPoint:t,transitionDuration:i}),n.animations.stopAllPan();const s=this.currZoomLevel;o||(e=_(e,this.zoomLevels.min,this.zoomLevels.max)),this.setZoomLevel(e),this.pan.x=this.calculateZoomToPanOffset("x",t,s),this.pan.y=this.calculateZoomToPanOffset("y",t,s),F(this.pan);const a=()=>{this._setResolution(e),this.applyCurrentZoomPan()};i?n.animations.startTransition({isPan:!0,name:"zoomTo",target:this.container,transform:this.getCurrentTransform(),onComplete:a,duration:i,easing:n.options.easing}):a()}toggleZoom(e){this.zoomTo(this.currZoomLevel===this.zoomLevels.initial?this.zoomLevels.secondary:this.zoomLevels.initial,e,this.pswp.options.zoomAnimationDuration)}setZoomLevel(e){this.currZoomLevel=e,this.bounds.update(this.currZoomLevel)}calculateZoomToPanOffset(e,t,i){const o=this.bounds.max[e]-this.bounds.min[e];if(o===0)return this.bounds.center[e];t||(t=this.pswp.getViewportCenterPoint()),i||(i=this.zoomLevels.initial);const n=this.currZoomLevel/i;return this.bounds.correctPan(e,(this.pan[e]-t[e])*n+t[e])}panTo(e,t){this.pan.x=this.bounds.correctPan("x",e),this.pan.y=this.bounds.correctPan("y",t),this.applyCurrentZoomPan()}isPannable(){return Boolean(this.width)&&this.currZoomLevel>this.zoomLevels.fit}isZoomable(){return Boolean(this.width)&&this.content.isZoomable()}applyCurrentZoomPan(){this._applyZoomTransform(this.pan.x,this.pan.y,this.currZoomLevel),this===this.pswp.currSlide&&this.pswp.dispatch("zoomPanUpdate",{slide:this})}zoomAndPanToInitial(){this.currZoomLevel=this.zoomLevels.initial,this.bounds.update(this.currZoomLevel),h(this.pan,this.bounds.center),this.pswp.dispatch("initialZoomPan",{slide:this})}_applyZoomTransform(e,t,i){i/=this.currentResolution||this.zoomLevels.initial,v(this.container,e,t,i)}calculateSize(){const{pswp:e}=this;h(this.panAreaSize,U(e.options,e.viewportSize,this.data,this.index)),this.zoomLevels.update(this.width,this.height,this.panAreaSize),e.dispatch("calcSlideSize",{slide:this})}getCurrentTransform(){const e=this.currZoomLevel/(this.currentResolution||this.zoomLevels.initial);return E(this.pan.x,this.pan.y,e)}_setResolution(e){if(e===this.currentResolution)return;this.currentResolution=e,this.updateContentSize(),this.pswp.dispatch("resolutionChanged")}}const be=.35,Se=.6,V=.4,$=.5;function Pe(e,t){return e*t/(1-t)}class _e{constructor(e){this.gestures=e,this.pswp=e.pswp,this.startPan={x:0,y:0}}start(){this.pswp.currSlide&&h(this.startPan,this.pswp.currSlide.pan),this.pswp.animations.stopAll()}change(){const{p1:e,prevP1:t,dragAxis:i}=this.gestures,{currSlide:o}=this.pswp;if(i==="y"&&this.pswp.options.closeOnVerticalDrag&&o&&o.currZoomLevel<=o.zoomLevels.fit&&!this.gestures.isMultitouch){const n=o.pan.y+(e.y-t.y);if(!this.pswp.dispatch("verticalDrag",{panY:n}).defaultPrevented){this._setPanWithFriction("y",n,Se);const s=1-Math.abs(this._getVerticalDragRatio(o.pan.y));this.pswp.applyBgOpacity(s),o.applyCurrentZoomPan()}}else{const n=this._panOrMoveMainScroll("x");n||(this._panOrMoveMainScroll("y"),o&&(F(o.pan),o.applyCurrentZoomPan()))}}end(){const{velocity:e}=this.gestures,{mainScroll:t,currSlide:i}=this.pswp;let o=0;if(this.pswp.animations.stopAll(),t.isShifted()){const n=t.x-t.getCurrSlideX(),s=n/this.pswp.viewportSize.x;e.x<-$&&s<0||e.x<.1&&s<-.5?(o=1,e.x=Math.min(e.x,0)):(e.x>$&&s>0||e.x>-.1&&s>.5)&&(o=-1,e.x=Math.max(e.x,0)),t.moveIndexBy(o,!0,e.x)}i&&i.currZoomLevel>i.zoomLevels.max||this.gestures.isMultitouch?this.gestures.zoomLevels.correctZoomPan(!0):(this._finishPanGestureForAxis("x"),this._finishPanGestureForAxis("y"))}_finishPanGestureForAxis(e){const{velocity:t}=this.gestures,{currSlide:i}=this.pswp;if(!i)return;const{pan:o,bounds:n}=i,s=o[e],a=this.pswp.bgOpacity<1&&e==="y",r=.995,l=s+Pe(t[e],r);if(a){const y=this._getVerticalDragRatio(s),b=this._getVerticalDragRatio(l);if(y<0&&b<-V||y>0&&b>V){this.pswp.close();return}}const p=n.correctPan(e,l);if(s===p)return;const d=p===l?1:.82,m=this.pswp.bgOpacity,c=p-s;this.pswp.animations.startSpring({name:"panGesture"+e,isPan:!0,start:s,end:p,velocity:t[e],dampingRatio:d,onUpdate:y=>{if(a&&this.pswp.bgOpacity<1){const b=1-(p-y)/c;this.pswp.applyBgOpacity(_(m+(1-m)*b,0,1))}o[e]=Math.floor(y),i.applyCurrentZoomPan()}})}_panOrMoveMainScroll(e){const{p1:t,dragAxis:i,prevP1:o,isMultitouch:n}=this.gestures,{currSlide:s,mainScroll:a}=this.pswp,r=t[e]-o[e],l=a.x+r;if(!r||!s)return!1;if(e==="x"&&!s.isPannable()&&!n)return a.moveTo(l,!0),!0;const{bounds:p}=s,d=s.pan[e]+r;if(this.pswp.options.allowPanToNext&&i==="x"&&e==="x"&&!n){const m=a.getCurrSlideX(),c=a.x-m,y=r>0,b=!y;if(d>p.min[e]&&y){const I=p.min[e]<=this.startPan[e];if(I)return a.moveTo(l,!0),!0;this._setPanWithFriction(e,d)}else if(d<p.max[e]&&b){const I=this.startPan[e]<=p.max[e];if(I)return a.moveTo(l,!0),!0;this._setPanWithFriction(e,d)}else if(c!==0){if(c>0)return a.moveTo(Math.max(l,m),!0),!0;if(c<0)return a.moveTo(Math.min(l,m),!0),!0}else this._setPanWithFriction(e,d)}else e==="y"?!a.isShifted()&&p.min.y!==p.max.y&&this._setPanWithFriction(e,d):this._setPanWithFriction(e,d);return!1}_getVerticalDragRatio(e){var t,i;return(e-((t=(i=this.pswp.currSlide)===null||i===void 0?void 0:i.bounds.center.y)!==null&&t!==void 0?t:0))/(this.pswp.viewportSize.y/3)}_setPanWithFriction(e,t,i){const{currSlide:o}=this.pswp;if(!o)return;const{pan:n,bounds:s}=o,a=s.correctPan(e,t);if(a!==t||i){const r=Math.round(t-n[e]);n[e]+=r*(i||be)}else n[e]=t}}const Ee=.05,Te=.15;function q(e,t,i){return e.x=(t.x+i.x)/2,e.y=(t.y+i.y)/2,e}class xe{constructor(e){this.gestures=e,this._startPan={x:0,y:0},this._startZoomPoint={x:0,y:0},this._zoomPoint={x:0,y:0},this._wasOverFitZoomLevel=!1,this._startZoomLevel=1}start(){const{currSlide:e}=this.gestures.pswp;e&&(this._startZoomLevel=e.currZoomLevel,h(this._startPan,e.pan)),this.gestures.pswp.animations.stopAllPan(),this._wasOverFitZoomLevel=!1}change(){const{p1:e,startP1:t,p2:i,startP2:o,pswp:n}=this.gestures,{currSlide:s}=n;if(!s)return;const a=s.zoomLevels.min,r=s.zoomLevels.max;if(!s.isZoomable()||n.mainScroll.isShifted())return;q(this._startZoomPoint,t,o),q(this._zoomPoint,e,i);let l=1/C(t,o)*C(e,i)*this._startZoomLevel;if(l>s.zoomLevels.initial+s.zoomLevels.initial/15&&(this._wasOverFitZoomLevel=!0),l<a)if(n.options.pinchToClose&&!this._wasOverFitZoomLevel&&this._startZoomLevel<=s.zoomLevels.initial){const p=1-(a-l)/(a/1.2);n.dispatch("pinchClose",{bgOpacity:p}).defaultPrevented||n.applyBgOpacity(p)}else l=a-(a-l)*Te;else l>r&&(l=r+(l-r)*Ee);s.pan.x=this._calculatePanForZoomLevel("x",l),s.pan.y=this._calculatePanForZoomLevel("y",l),s.setZoomLevel(l),s.applyCurrentZoomPan()}end(){const{pswp:e}=this.gestures,{currSlide:t}=e;(!t||t.currZoomLevel<t.zoomLevels.initial)&&!this._wasOverFitZoomLevel&&e.options.pinchToClose?e.close():this.correctZoomPan()}_calculatePanForZoomLevel(e,t){const i=t/this._startZoomLevel;return this._zoomPoint[e]-(this._startZoomPoint[e]-this._startPan[e])*i}correctZoomPan(e){const{pswp:t}=this.gestures,{currSlide:i}=t;if(!(i!=null&&i.isZoomable()))return;this._zoomPoint.x===0&&(e=!0);const o=i.currZoomLevel;let n,s=!0;o<i.zoomLevels.initial?n=i.zoomLevels.initial:o>i.zoomLevels.max?n=i.zoomLevels.max:(s=!1,n=o);const a=t.bgOpacity,r=t.bgOpacity<1,l=h({x:0,y:0},i.pan);let p=h({x:0,y:0},l);e&&(this._zoomPoint.x=0,this._zoomPoint.y=0,this._startZoomPoint.x=0,this._startZoomPoint.y=0,this._startZoomLevel=o,h(this._startPan,l)),s&&(p={x:this._calculatePanForZoomLevel("x",n),y:this._calculatePanForZoomLevel("y",n)}),i.setZoomLevel(n),p={x:i.bounds.correctPan("x",p.x),y:i.bounds.correctPan("y",p.y)},i.setZoomLevel(o);const d=!P(p,l);if(!d&&!s&&!r){i._setResolution(n),i.applyCurrentZoomPan();return}t.animations.stopAllPan(),t.animations.startSpring({isPan:!0,start:0,end:1e3,velocity:0,dampingRatio:1,naturalFrequency:40,onUpdate:m=>{if(m/=1e3,d||s){if(d&&(i.pan.x=l.x+(p.x-l.x)*m,i.pan.y=l.y+(p.y-l.y)*m),s){const c=o+(n-o)*m;i.setZoomLevel(c)}i.applyCurrentZoomPan()}r&&t.bgOpacity<1&&t.applyBgOpacity(_(a+(1-a)*m,0,1))},onComplete:()=>{i._setResolution(n),i.applyCurrentZoomPan()}})}}function K(e){return!!e.target.closest(".pswp__container")}class De{constructor(e){this.gestures=e}click(e,t){const i=t.target.classList,o=i.contains("pswp__img"),n=i.contains("pswp__item")||i.contains("pswp__zoom-wrap");o?this._doClickOrTapAction("imageClick",e,t):n&&this._doClickOrTapAction("bgClick",e,t)}tap(e,t){K(t)&&this._doClickOrTapAction("tap",e,t)}doubleTap(e,t){K(t)&&this._doClickOrTapAction("doubleTap",e,t)}_doClickOrTapAction(e,t,i){var o;const{pswp:n}=this.gestures,{currSlide:s}=n,a=e+"Action",r=n.options[a];if(n.dispatch(a,{point:t,originalEvent:i}).defaultPrevented)return;if(typeof r=="function"){r.call(n,t,i);return}switch(r){case"close":case"next":n[r]();break;case"zoom":s==null||s.toggleZoom(t);break;case"zoom-or-close":s!=null&&s.isZoomable()&&s.zoomLevels.secondary!==s.zoomLevels.initial?s.toggleZoom(t):n.options.clickToCloseNonZoomable&&n.close();break;case"toggle-controls":(o=this.gestures.pswp.element)===null||o===void 0||o.classList.toggle("pswp--ui-visible");break}}}const Le=10,ze=300,Ie=25;class Ae{constructor(e){this.pswp=e,this.dragAxis=null,this.p1={x:0,y:0},this.p2={x:0,y:0},this.prevP1={x:0,y:0},this.prevP2={x:0,y:0},this.startP1={x:0,y:0},this.startP2={x:0,y:0},this.velocity={x:0,y:0},this._lastStartP1={x:0,y:0},this._intervalP1={x:0,y:0},this._numActivePoints=0,this._ongoingPointers=[],this._touchEventEnabled="ontouchstart"in window,this._pointerEventEnabled=!!window.PointerEvent,this.supportsTouch=this._touchEventEnabled||this._pointerEventEnabled&&navigator.maxTouchPoints>1,this._numActivePoints=0,this._intervalTime=0,this._velocityCalculated=!1,this.isMultitouch=!1,this.isDragging=!1,this.isZooming=!1,this.raf=null,this._tapTimer=null,this.supportsTouch||(e.options.allowPanToNext=!1),this.drag=new _e(this),this.zoomLevels=new xe(this),this.tapHandler=new De(this),e.on("bindEvents",()=>{e.events.add(e.scrollWrap,"click",this._onClick.bind(this)),this._pointerEventEnabled?this._bindEvents("pointer","down","up","cancel"):this._touchEventEnabled?(this._bindEvents("touch","start","end","cancel"),e.scrollWrap&&(e.scrollWrap.ontouchmove=()=>{},e.scrollWrap.ontouchend=()=>{})):this._bindEvents("mouse","down","up")})}_bindEvents(e,t,i,o){const{pswp:n}=this,{events:s}=n,a=o?e+o:"";s.add(n.scrollWrap,e+t,this.onPointerDown.bind(this)),s.add(window,e+"move",this.onPointerMove.bind(this)),s.add(window,e+i,this.onPointerUp.bind(this)),a&&s.add(n.scrollWrap,a,this.onPointerUp.bind(this))}onPointerDown(e){const t=e.type==="mousedown"||e.pointerType==="mouse";if(t&&e.button>0)return;const{pswp:i}=this;if(!i.opener.isOpen){e.preventDefault();return}if(i.dispatch("pointerDown",{originalEvent:e}).defaultPrevented)return;t&&(i.mouseDetected(),this._preventPointerEventBehaviour(e)),i.animations.stopAll(),this._updatePoints(e,"down"),this._numActivePoints===1&&(this.dragAxis=null,h(this.startP1,this.p1)),this._numActivePoints>1?(this._clearTapTimer(),this.isMultitouch=!0):this.isMultitouch=!1}onPointerMove(e){if(e.preventDefault(),!this._numActivePoints)return;if(this._updatePoints(e,"move"),this.pswp.dispatch("pointerMove",{originalEvent:e}).defaultPrevented)return;this._numActivePoints===1&&!this.isDragging?(this.dragAxis||this._calculateDragDirection(),this.dragAxis&&!this.isDragging&&(this.isZooming&&(this.isZooming=!1,this.zoomLevels.end()),this.isDragging=!0,this._clearTapTimer(),this._updateStartPoints(),this._intervalTime=Date.now(),this._velocityCalculated=!1,h(this._intervalP1,this.p1),this.velocity.x=0,this.velocity.y=0,this.drag.start(),this._rafStopLoop(),this._rafRenderLoop())):this._numActivePoints>1&&!this.isZooming&&(this._finishDrag(),this.isZooming=!0,this._updateStartPoints(),this.zoomLevels.start(),this._rafStopLoop(),this._rafRenderLoop())}_finishDrag(){this.isDragging&&(this.isDragging=!1,this._velocityCalculated||this._updateVelocity(!0),this.drag.end(),this.dragAxis=null)}onPointerUp(e){if(!this._numActivePoints)return;if(this._updatePoints(e,"up"),this.pswp.dispatch("pointerUp",{originalEvent:e}).defaultPrevented)return;this._numActivePoints===0&&(this._rafStopLoop(),this.isDragging?this._finishDrag():!this.isZooming&&!this.isMultitouch&&this._finishTap(e)),this._numActivePoints<2&&this.isZooming&&(this.isZooming=!1,this.zoomLevels.end(),this._numActivePoints===1&&(this.dragAxis=null,this._updateStartPoints()))}_rafRenderLoop(){(this.isDragging||this.isZooming)&&(this._updateVelocity(),this.isDragging?P(this.p1,this.prevP1)||this.drag.change():(!P(this.p1,this.prevP1)||!P(this.p2,this.prevP2))&&this.zoomLevels.change(),this._updatePrevPoints(),this.raf=requestAnimationFrame(this._rafRenderLoop.bind(this)))}_updateVelocity(e){const t=Date.now(),i=t-this._intervalTime;if(i<50&&!e)return;this.velocity.x=this._getVelocity("x",i),this.velocity.y=this._getVelocity("y",i),this._intervalTime=t,h(this._intervalP1,this.p1),this._velocityCalculated=!0}_finishTap(e){const{mainScroll:t}=this.pswp;if(t.isShifted()){t.moveIndexBy(0,!0);return}if(e.type.indexOf("cancel")>0)return;if(e.type==="mouseup"||e.pointerType==="mouse"){this.tapHandler.click(this.startP1,e);return}const i=this.pswp.options.doubleTapAction?ze:0;this._tapTimer?(this._clearTapTimer(),C(this._lastStartP1,this.startP1)<Ie&&this.tapHandler.doubleTap(this.startP1,e)):(h(this._lastStartP1,this.startP1),this._tapTimer=setTimeout(()=>{this.tapHandler.tap(this.startP1,e),this._clearTapTimer()},i))}_clearTapTimer(){this._tapTimer&&(clearTimeout(this._tapTimer),this._tapTimer=null)}_getVelocity(e,t){const i=this.p1[e]-this._intervalP1[e];return Math.abs(i)>1&&t>5?i/t:0}_rafStopLoop(){this.raf&&(cancelAnimationFrame(this.raf),this.raf=null)}_preventPointerEventBehaviour(e){e.preventDefault()}_updatePoints(e,t){if(this._pointerEventEnabled){const i=e,o=this._ongoingPointers.findIndex(n=>n.id===i.pointerId);t==="up"&&o>-1?this._ongoingPointers.splice(o,1):t==="down"&&o===-1?this._ongoingPointers.push(this._convertEventPosToPoint(i,{x:0,y:0})):o>-1&&this._convertEventPosToPoint(i,this._ongoingPointers[o]),this._numActivePoints=this._ongoingPointers.length,this._numActivePoints>0&&h(this.p1,this._ongoingPointers[0]),this._numActivePoints>1&&h(this.p2,this._ongoingPointers[1])}else{const i=e;this._numActivePoints=0,i.type.indexOf("touch")>-1?i.touches&&i.touches.length>0&&(this._convertEventPosToPoint(i.touches[0],this.p1),this._numActivePoints++,i.touches.length>1&&(this._convertEventPosToPoint(i.touches[1],this.p2),this._numActivePoints++)):(this._convertEventPosToPoint(e,this.p1),t==="up"?this._numActivePoints=0:this._numActivePoints++)}}_updatePrevPoints(){h(this.prevP1,this.p1),h(this.prevP2,this.p2)}_updateStartPoints(){h(this.startP1,this.p1),h(this.startP2,this.p2),this._updatePrevPoints()}_calculateDragDirection(){if(this.pswp.mainScroll.isShifted())this.dragAxis="x";else{const e=Math.abs(this.p1.x-this.startP1.x)-Math.abs(this.p1.y-this.startP1.y);if(e!==0){const t=e>0?"x":"y";Math.abs(this.p1[t]-this.startP1[t])>=Le&&(this.dragAxis=t)}}}_convertEventPosToPoint(e,t){return t.x=e.pageX-this.pswp.offset.x,t.y=e.pageY-this.pswp.offset.y,"pointerId"in e?t.id=e.pointerId:e.identifier!==void 0&&(t.id=e.identifier),t}_onClick(e){this.pswp.mainScroll.isShifted()&&(e.preventDefault(),e.stopPropagation())}}const Ce=.35;class Me{constructor(e){this.pswp=e,this.x=0,this.slideWidth=0,this._currPositionIndex=0,this._prevPositionIndex=0,this._containerShiftIndex=-1,this.itemHolders=[]}resize(e){const{pswp:t}=this,i=Math.round(t.viewportSize.x+t.viewportSize.x*t.options.spacing),o=i!==this.slideWidth;o&&(this.slideWidth=i,this.moveTo(this.getCurrSlideX())),this.itemHolders.forEach((n,s)=>{o&&v(n.el,(s+this._containerShiftIndex)*this.slideWidth),e&&n.slide&&n.slide.resize()})}resetPosition(){this._currPositionIndex=0,this._prevPositionIndex=0,this.slideWidth=0,this._containerShiftIndex=-1}appendHolders(){this.itemHolders=[];for(let e=0;e<3;e++){const t=u("pswp__item","div",this.pswp.container);t.setAttribute("role","group"),t.setAttribute("aria-roledescription","slide"),t.setAttribute("aria-hidden","true"),t.style.display=e===1?"block":"none",this.itemHolders.push({el:t})}}canBeSwiped(){return this.pswp.getNumItems()>1}moveIndexBy(e,t,i){const{pswp:o}=this;let n=o.potentialIndex+e;const s=o.getNumItems();if(o.canLoop()){n=o.getLoopedIndex(n);const r=(e+s)%s;r<=s/2?e=r:e=r-s}else n<0?n=0:n>=s&&(n=s-1),e=n-o.potentialIndex;o.potentialIndex=n,this._currPositionIndex-=e,o.animations.stopMainScroll();const a=this.getCurrSlideX();if(!t)this.moveTo(a),this.updateCurrItem();else{o.animations.startSpring({isMainScroll:!0,start:this.x,end:a,velocity:i||0,naturalFrequency:30,dampingRatio:1,onUpdate:l=>{this.moveTo(l)},onComplete:()=>{this.updateCurrItem(),o.appendHeavy()}});let r=o.potentialIndex-o.currIndex;if(o.canLoop()){const l=(r+s)%s;l<=s/2?r=l:r=l-s}Math.abs(r)>1&&this.updateCurrItem()}return Boolean(e)}getCurrSlideX(){return this.slideWidth*this._currPositionIndex}isShifted(){return this.x!==this.getCurrSlideX()}updateCurrItem(){var e;const{pswp:t}=this,i=this._prevPositionIndex-this._currPositionIndex;if(!i)return;this._prevPositionIndex=this._currPositionIndex,t.currIndex=t.potentialIndex;let o=Math.abs(i),n;o>=3&&(this._containerShiftIndex+=i+(i>0?-3:3),o=3);for(let s=0;s<o;s++)i>0?(n=this.itemHolders.shift(),n&&(this.itemHolders[2]=n,this._containerShiftIndex++,v(n.el,(this._containerShiftIndex+2)*this.slideWidth),t.setContent(n,t.currIndex-o+s+2))):(n=this.itemHolders.pop(),n&&(this.itemHolders.unshift(n),this._containerShiftIndex--,v(n.el,this._containerShiftIndex*this.slideWidth),t.setContent(n,t.currIndex+o-s-2)));Math.abs(this._containerShiftIndex)>50&&!this.isShifted()&&(this.resetPosition(),this.resize()),t.animations.stopAllPan(),this.itemHolders.forEach((s,a)=>{s.slide&&s.slide.setIsActive(a===1)}),t.currSlide=(e=this.itemHolders[1])===null||e===void 0?void 0:e.slide,t.contentLoader.updateLazy(i),t.currSlide&&t.currSlide.applyCurrentZoomPan(),t.dispatch("change")}moveTo(e,t){if(!this.pswp.canLoop()&&t){let i=(this.slideWidth*this._currPositionIndex-e)/this.slideWidth;i+=this.pswp.currIndex;const o=Math.round(e-this.x);(i<0&&o>0||i>=this.pswp.getNumItems()-1&&o<0)&&(e=this.x+o*Ce)}this.x=e,this.pswp.container&&v(this.pswp.container,e),this.pswp.dispatch("moveMainScroll",{x:e,dragging:t??!1})}}const Oe={Escape:27,z:90,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Tab:9},w=(e,t)=>t?e:Oe[e];class ke{constructor(e){this.pswp=e,this._wasFocused=!1,e.on("bindEvents",()=>{e.options.initialPointerPos||this._focusRoot(),e.events.add(document,"focusin",this._onFocusIn.bind(this)),e.events.add(document,"keydown",this._onKeyDown.bind(this))});const t=document.activeElement;e.on("destroy",()=>{e.options.returnFocus&&t&&this._wasFocused&&t.focus()})}_focusRoot(){!this._wasFocused&&this.pswp.element&&(this.pswp.element.focus(),this._wasFocused=!0)}_onKeyDown(e){const{pswp:t}=this;if(t.dispatch("keydown",{originalEvent:e}).defaultPrevented)return;if(fe(e))return;let i,o,n=!1;const s="key"in e;switch(s?e.key:e.keyCode){case w("Escape",s):t.options.escKey&&(i="close");break;case w("z",s):i="toggleZoom";break;case w("ArrowLeft",s):o="x";break;case w("ArrowUp",s):o="y";break;case w("ArrowRight",s):o="x",n=!0;break;case w("ArrowDown",s):n=!0,o="y";break;case w("Tab",s):this._focusRoot();break}if(o){e.preventDefault();const{currSlide:a}=t;t.options.arrowKeys&&o==="x"&&t.getNumItems()>1?i=n?"next":"prev":a&&a.currZoomLevel>a.zoomLevels.fit&&(a.pan[o]+=n?-80:80,a.panTo(a.pan.x,a.pan.y))}i&&(e.preventDefault(),t[i]())}_onFocusIn(e){const{template:t}=this.pswp;t&&document!==e.target&&t!==e.target&&!t.contains(e.target)&&t.focus()}}const Ze="cubic-bezier(.4,0,.22,1)";class He{constructor(e){var t;this.props=e;const{target:i,onComplete:o,transform:n,onFinish:s=()=>{},duration:a=333,easing:r=Ze}=e;this.onFinish=s;const l=n?"transform":"opacity",p=(t=e[l])!==null&&t!==void 0?t:"";this._target=i,this._onComplete=o,this._finished=!1,this._onTransitionEnd=this._onTransitionEnd.bind(this),this._helperTimeout=setTimeout(()=>{R(i,l,a,r),this._helperTimeout=setTimeout(()=>{i.addEventListener("transitionend",this._onTransitionEnd,!1),i.addEventListener("transitioncancel",this._onTransitionEnd,!1),this._helperTimeout=setTimeout(()=>{this._finalizeAnimation()},a+500),i.style[l]=p},30)},0)}_onTransitionEnd(e){e.target===this._target&&this._finalizeAnimation()}_finalizeAnimation(){this._finished||(this._finished=!0,this.onFinish(),this._onComplete&&this._onComplete())}destroy(){this._helperTimeout&&clearTimeout(this._helperTimeout),ce(this._target),this._target.removeEventListener("transitionend",this._onTransitionEnd,!1),this._target.removeEventListener("transitioncancel",this._onTransitionEnd,!1),this._finished||this._finalizeAnimation()}}const Fe=12,Re=.75;class je{constructor(e,t,i){this.velocity=e*1e3,this._dampingRatio=t||Re,this._naturalFrequency=i||Fe,this._dampedFrequency=this._naturalFrequency,this._dampingRatio<1&&(this._dampedFrequency*=Math.sqrt(1-this._dampingRatio*this._dampingRatio))}easeFrame(e,t){let i=0,o;t/=1e3;const n=Math.E**(-this._dampingRatio*this._naturalFrequency*t);if(this._dampingRatio===1)o=this.velocity+this._naturalFrequency*e,i=(e+o*t)*n,this.velocity=i*-this._naturalFrequency+o*n;else if(this._dampingRatio<1){o=1/this._dampedFrequency*(this._dampingRatio*this._naturalFrequency*e+this.velocity);const s=Math.cos(this._dampedFrequency*t),a=Math.sin(this._dampedFrequency*t);i=n*(e*s+o*a),this.velocity=i*-this._naturalFrequency*this._dampingRatio+n*(-this._dampedFrequency*e*a+this._dampedFrequency*o*s)}return i}}class Be{constructor(e){this.props=e,this._raf=0;const{start:t,end:i,velocity:o,onUpdate:n,onComplete:s,onFinish:a=()=>{},dampingRatio:r,naturalFrequency:l}=e;this.onFinish=a;const p=new je(o,r,l);let d=Date.now(),m=t-i;const c=()=>{this._raf&&(m=p.easeFrame(m,Date.now()-d),Math.abs(m)<1&&Math.abs(p.velocity)<50?(n(i),s&&s(),this.onFinish()):(d=Date.now(),n(m+i),this._raf=requestAnimationFrame(c)))};this._raf=requestAnimationFrame(c)}destroy(){this._raf>=0&&cancelAnimationFrame(this._raf),this._raf=0}}class Ne{constructor(){this.activeAnimations=[]}startSpring(e){this._start(e,!0)}startTransition(e){this._start(e)}_start(e,t){const i=t?new Be(e):new He(e);return this.activeAnimations.push(i),i.onFinish=()=>this.stop(i),i}stop(e){e.destroy();const t=this.activeAnimations.indexOf(e);t>-1&&this.activeAnimations.splice(t,1)}stopAll(){this.activeAnimations.forEach(e=>{e.destroy()}),this.activeAnimations=[]}stopAllPan(){this.activeAnimations=this.activeAnimations.filter(e=>e.props.isPan?(e.destroy(),!1):!0)}stopMainScroll(){this.activeAnimations=this.activeAnimations.filter(e=>e.props.isMainScroll?(e.destroy(),!1):!0)}isPanRunning(){return this.activeAnimations.some(e=>e.props.isPan)}}class Ue{constructor(e){this.pswp=e,e.events.add(e.element,"wheel",this._onWheel.bind(this))}_onWheel(e){e.preventDefault();const{currSlide:t}=this.pswp;let{deltaX:i,deltaY:o}=e;if(!t)return;if(this.pswp.dispatch("wheel",{originalEvent:e}).defaultPrevented)return;if(e.ctrlKey||this.pswp.options.wheelToZoom){if(t.isZoomable()){let n=-o;e.deltaMode===1?n*=.05:n*=e.deltaMode?1:.002,n=2**n;const s=t.currZoomLevel*n;t.zoomTo(s,{x:e.clientX,y:e.clientY})}}else t.isPannable()&&(e.deltaMode===1&&(i*=18,o*=18),t.panTo(t.pan.x-i,t.pan.y-o))}}function We(e){if(typeof e=="string")return e;if(!e||!e.isCustomSVG)return"";const t=e;let i='<svg aria-hidden="true" class="pswp__icn" viewBox="0 0 %d %d" width="%d" height="%d">';return i=i.split("%d").join(t.size||32),t.outlineID&&(i+='<use class="pswp__icn-shadow" xlink:href="#'+t.outlineID+'"/>'),i+=t.inner,i+="</svg>",i}class Ge{constructor(e,t){var i;const o=t.name||t.className;let n=t.html;if(e.options[o]===!1)return;typeof e.options[o+"SVG"]=="string"&&(n=e.options[o+"SVG"]),e.dispatch("uiElementCreate",{data:t});let s="";t.isButton?(s+="pswp__button ",s+=t.className||`pswp__button--${t.name}`):s+=t.className||`pswp__${t.name}`;let a=t.isButton?t.tagName||"button":t.tagName||"div";a=a.toLowerCase();const r=u(s,a);if(t.isButton){a==="button"&&(r.type="button");let{title:d}=t;const{ariaLabel:m}=t;typeof e.options[o+"Title"]=="string"&&(d=e.options[o+"Title"]),d&&(r.title=d);const c=m||d;c&&r.setAttribute("aria-label",c)}r.innerHTML=We(n),t.onInit&&t.onInit(r,e),t.onClick&&(r.onclick=d=>{typeof t.onClick=="string"?e[t.onClick]():typeof t.onClick=="function"&&t.onClick(d,r,e)});const l=t.appendTo||"bar";let p=e.element;l==="bar"?(e.topBar||(e.topBar=u("pswp__top-bar pswp__hide-on-close","div",e.scrollWrap)),p=e.topBar):(r.classList.add("pswp__hide-on-close"),l==="wrapper"&&(p=e.scrollWrap)),(i=p)===null||i===void 0||i.appendChild(e.applyFilters("uiElement",r,t))}}function X(e,t,i){e.classList.add("pswp__button--arrow"),e.setAttribute("aria-controls","pswp__items"),t.on("change",()=>{t.options.loop||(i?e.disabled=!(t.currIndex<t.getNumItems()-1):e.disabled=!(t.currIndex>0))})}const Ve={name:"arrowPrev",className:"pswp__button--arrow--prev",title:"Previous",order:10,isButton:!0,appendTo:"wrapper",html:{isCustomSVG:!0,size:60,inner:'<path d="M29 43l-3 3-16-16 16-16 3 3-13 13 13 13z" id="pswp__icn-arrow"/>',outlineID:"pswp__icn-arrow"},onClick:"prev",onInit:X},$e={name:"arrowNext",className:"pswp__button--arrow--next",title:"Next",order:11,isButton:!0,appendTo:"wrapper",html:{isCustomSVG:!0,size:60,inner:'<use xlink:href="#pswp__icn-arrow"/>',outlineID:"pswp__icn-arrow"},onClick:"next",onInit:(e,t)=>{X(e,t,!0)}},qe={name:"close",title:"Close",order:20,isButton:!0,html:{isCustomSVG:!0,inner:'<path d="M24 10l-2-2-6 6-6-6-2 2 6 6-6 6 2 2 6-6 6 6 2-2-6-6z" id="pswp__icn-close"/>',outlineID:"pswp__icn-close"},onClick:"close"},Ke={name:"zoom",title:"Zoom",order:10,isButton:!0,html:{isCustomSVG:!0,inner:'<path d="M17.426 19.926a6 6 0 1 1 1.5-1.5L23 22.5 21.5 24l-4.074-4.074z" id="pswp__icn-zoom"/><path fill="currentColor" class="pswp__zoom-icn-bar-h" d="M11 16v-2h6v2z"/><path fill="currentColor" class="pswp__zoom-icn-bar-v" d="M13 12h2v6h-2z"/>',outlineID:"pswp__icn-zoom"},onClick:"toggleZoom"},Xe={name:"preloader",appendTo:"bar",order:7,html:{isCustomSVG:!0,inner:'<path fill-rule="evenodd" clip-rule="evenodd" d="M21.2 16a5.2 5.2 0 1 1-5.2-5.2V8a8 8 0 1 0 8 8h-2.8Z" id="pswp__icn-loading"/>',outlineID:"pswp__icn-loading"},onInit:(e,t)=>{let i,o=null;const n=(r,l)=>{e.classList.toggle("pswp__preloader--"+r,l)},s=r=>{i!==r&&(i=r,n("active",r))},a=()=>{var r;if(!((r=t.currSlide)!==null&&r!==void 0&&r.content.isLoading())){s(!1),o&&(clearTimeout(o),o=null);return}o||(o=setTimeout(()=>{var l;s(Boolean((l=t.currSlide)===null||l===void 0?void 0:l.content.isLoading())),o=null},t.options.preloaderDelay))};t.on("change",a),t.on("loadComplete",r=>{t.currSlide===r.slide&&a()}),t.ui&&(t.ui.updatePreloaderVisibility=a)}},Ye={name:"counter",order:5,onInit:(e,t)=>{t.on("change",()=>{e.innerText=t.currIndex+1+t.options.indexIndicatorSep+t.getNumItems()})}};function Y(e,t){e.classList.toggle("pswp--zoomed-in",t)}class Je{constructor(e){this.pswp=e,this.isRegistered=!1,this.uiElementsData=[],this.items=[],this.updatePreloaderVisibility=()=>{},this._lastUpdatedZoomLevel=void 0}init(){const{pswp:e}=this;this.isRegistered=!1,this.uiElementsData=[qe,Ve,$e,Ke,Xe,Ye],e.dispatch("uiRegister"),this.uiElementsData.sort((t,i)=>(t.order||0)-(i.order||0)),this.items=[],this.isRegistered=!0,this.uiElementsData.forEach(t=>{this.registerElement(t)}),e.on("change",()=>{var t;(t=e.element)===null||t===void 0||t.classList.toggle("pswp--one-slide",e.getNumItems()===1)}),e.on("zoomPanUpdate",()=>this._onZoomPanUpdate())}registerElement(e){this.isRegistered?this.items.push(new Ge(this.pswp,e)):this.uiElementsData.push(e)}_onZoomPanUpdate(){const{template:e,currSlide:t,options:i}=this.pswp;if(this.pswp.opener.isClosing||!e||!t)return;let{currZoomLevel:o}=t;if(this.pswp.opener.isOpen||(o=t.zoomLevels.initial),o===this._lastUpdatedZoomLevel)return;this._lastUpdatedZoomLevel=o;const n=t.zoomLevels.initial-t.zoomLevels.secondary;if(Math.abs(n)<.01||!t.isZoomable()){Y(e,!1),e.classList.remove("pswp--zoom-allowed");return}e.classList.add("pswp--zoom-allowed");const s=o===t.zoomLevels.initial?t.zoomLevels.secondary:t.zoomLevels.initial;Y(e,s<=o),(i.imageClickAction==="zoom"||i.imageClickAction==="zoom-or-close")&&e.classList.add("pswp--click-to-zoom")}}function Qe(e){const t=e.getBoundingClientRect();return{x:t.left,y:t.top,w:t.width}}function et(e,t,i){const o=e.getBoundingClientRect(),n=o.width/t,s=o.height/i,a=n>s?n:s,r=(o.width-t*a)/2,l=(o.height-i*a)/2,p={x:o.left+r,y:o.top+l,w:t*a};return p.innerRect={w:o.width,h:o.height,x:r,y:l},p}function tt(e,t,i){const o=i.dispatch("thumbBounds",{index:e,itemData:t,instance:i});if(o.thumbBounds)return o.thumbBounds;const{element:n}=t;let s,a;if(n&&i.options.thumbSelector!==!1){const r=i.options.thumbSelector||"img";a=n.matches(r)?n:n.querySelector(r)}return a=i.applyFilters("thumbEl",a,t,e),a&&(t.thumbCropped?s=et(a,t.width||t.w||0,t.height||t.h||0):s=Qe(a)),i.applyFilters("thumbBounds",s,t,e)}class it{constructor(e,t){this.type=e,this.defaultPrevented=!1,t&&Object.assign(this,t)}preventDefault(){this.defaultPrevented=!0}}class ot{constructor(){this._listeners={},this._filters={},this.pswp=void 0,this.options=void 0}addFilter(e,t,i=100){var o,n,s;this._filters[e]||(this._filters[e]=[]),(o=this._filters[e])===null||o===void 0||o.push({fn:t,priority:i}),(n=this._filters[e])===null||n===void 0||n.sort((a,r)=>a.priority-r.priority),(s=this.pswp)===null||s===void 0||s.addFilter(e,t,i)}removeFilter(e,t){this._filters[e]&&(this._filters[e]=this._filters[e].filter(i=>i.fn!==t)),this.pswp&&this.pswp.removeFilter(e,t)}applyFilters(e,...t){var i;return(i=this._filters[e])===null||i===void 0||i.forEach(o=>{t[0]=o.fn.apply(this,t)}),t[0]}on(e,t){var i,o;this._listeners[e]||(this._listeners[e]=[]),(i=this._listeners[e])===null||i===void 0||i.push(t),(o=this.pswp)===null||o===void 0||o.on(e,t)}off(e,t){var i;this._listeners[e]&&(this._listeners[e]=this._listeners[e].filter(o=>t!==o)),(i=this.pswp)===null||i===void 0||i.off(e,t)}dispatch(e,t){var i;if(this.pswp)return this.pswp.dispatch(e,t);const o=new it(e,t);return(i=this._listeners[e])===null||i===void 0||i.forEach(n=>{n.call(this,o)}),o}}class nt{constructor(e,t){if(this.element=u("pswp__img pswp__img--placeholder",e?"img":"div",t),e){const i=this.element;i.decoding="async",i.alt="",i.src=e,i.setAttribute("role","presentation")}this.element.setAttribute("aria-hidden","true")}setDisplayedSize(e,t){if(!this.element)return;this.element.tagName==="IMG"?(M(this.element,250,"auto"),this.element.style.transformOrigin="0 0",this.element.style.transform=E(0,0,e/250)):M(this.element,e,t)}destroy(){var e;(e=this.element)!==null&&e!==void 0&&e.parentNode&&this.element.remove(),this.element=null}}class st{constructor(e,t,i){this.instance=t,this.data=e,this.index=i,this.element=void 0,this.placeholder=void 0,this.slide=void 0,this.displayedImageWidth=0,this.displayedImageHeight=0,this.width=Number(this.data.w)||Number(this.data.width)||0,this.height=Number(this.data.h)||Number(this.data.height)||0,this.isAttached=!1,this.hasSlide=!1,this.isDecoding=!1,this.state=g.IDLE,this.data.type?this.type=this.data.type:this.data.src?this.type="image":this.type="html",this.instance.dispatch("contentInit",{content:this})}removePlaceholder(){this.placeholder&&!this.keepPlaceholder()&&setTimeout(()=>{this.placeholder&&(this.placeholder.destroy(),this.placeholder=void 0)},1e3)}load(e,t){if(this.slide&&this.usePlaceholder())if(this.placeholder){const i=this.placeholder.element;i&&!i.parentElement&&this.slide.container.prepend(i)}else{const i=this.instance.applyFilters("placeholderSrc",this.data.msrc&&this.slide.isFirstSlide?this.data.msrc:!1,this);this.placeholder=new nt(i,this.slide.container)}if(this.element&&!t)return;if(this.instance.dispatch("contentLoad",{content:this,isLazy:e}).defaultPrevented)return;this.isImageContent()?(this.element=u("pswp__img","img"),this.displayedImageWidth&&this.loadImage(e)):(this.element=u("pswp__content","div"),this.element.innerHTML=this.data.html||""),t&&this.slide&&this.slide.updateContentSize(!0)}loadImage(e){var t,i;if(!this.isImageContent()||!this.element||this.instance.dispatch("contentLoadImage",{content:this,isLazy:e}).defaultPrevented)return;const o=this.element;this.updateSrcsetSizes(),this.data.srcset&&(o.srcset=this.data.srcset),o.src=(t=this.data.src)!==null&&t!==void 0?t:"",o.alt=(i=this.data.alt)!==null&&i!==void 0?i:"",this.state=g.LOADING,o.complete?this.onLoaded():(o.onload=()=>{this.onLoaded()},o.onerror=()=>{this.onError()})}setSlide(e){this.slide=e,this.hasSlide=!0,this.instance=e.pswp}onLoaded(){this.state=g.LOADED,this.slide&&this.element&&(this.instance.dispatch("loadComplete",{slide:this.slide,content:this}),this.slide.isActive&&this.slide.heavyAppended&&!this.element.parentNode&&(this.append(),this.slide.updateContentSize(!0)),(this.state===g.LOADED||this.state===g.ERROR)&&this.removePlaceholder())}onError(){this.state=g.ERROR,this.slide&&(this.displayError(),this.instance.dispatch("loadComplete",{slide:this.slide,isError:!0,content:this}),this.instance.dispatch("loadError",{slide:this.slide,content:this}))}isLoading(){return this.instance.applyFilters("isContentLoading",this.state===g.LOADING,this)}isError(){return this.state===g.ERROR}isImageContent(){return this.type==="image"}setDisplayedSize(e,t){if(!this.element)return;if(this.placeholder&&this.placeholder.setDisplayedSize(e,t),this.instance.dispatch("contentResize",{content:this,width:e,height:t}).defaultPrevented)return;if(M(this.element,e,t),this.isImageContent()&&!this.isError()){const i=!this.displayedImageWidth&&e;this.displayedImageWidth=e,this.displayedImageHeight=t,i?this.loadImage(!1):this.updateSrcsetSizes(),this.slide&&this.instance.dispatch("imageSizeChange",{slide:this.slide,width:e,height:t,content:this})}}isZoomable(){return this.instance.applyFilters("isContentZoomable",this.isImageContent()&&this.state!==g.ERROR,this)}updateSrcsetSizes(){if(!this.isImageContent()||!this.element||!this.data.srcset)return;const e=this.element,t=this.instance.applyFilters("srcsetSizesWidth",this.displayedImageWidth,this);(!e.dataset.largestUsedSize||t>parseInt(e.dataset.largestUsedSize,10))&&(e.sizes=t+"px",e.dataset.largestUsedSize=String(t))}usePlaceholder(){return this.instance.applyFilters("useContentPlaceholder",this.isImageContent(),this)}lazyLoad(){if(this.instance.dispatch("contentLazyLoad",{content:this}).defaultPrevented)return;this.load(!0)}keepPlaceholder(){return this.instance.applyFilters("isKeepingPlaceholder",this.isLoading(),this)}destroy(){if(this.hasSlide=!1,this.slide=void 0,this.instance.dispatch("contentDestroy",{content:this}).defaultPrevented)return;this.remove(),this.placeholder&&(this.placeholder.destroy(),this.placeholder=void 0),this.isImageContent()&&this.element&&(this.element.onload=null,this.element.onerror=null,this.element=void 0)}displayError(){if(this.slide){var e,t;let i=u("pswp__error-msg","div");i.innerText=(e=(t=this.instance.options)===null||t===void 0?void 0:t.errorMsg)!==null&&e!==void 0?e:"",i=this.instance.applyFilters("contentErrorElement",i,this),this.element=u("pswp__content pswp__error-msg-container","div"),this.element.appendChild(i),this.slide.container.innerText="",this.slide.container.appendChild(this.element),this.slide.updateContentSize(!0),this.removePlaceholder()}}append(){if(this.isAttached||!this.element)return;if(this.isAttached=!0,this.state===g.ERROR){this.displayError();return}if(this.instance.dispatch("contentAppend",{content:this}).defaultPrevented)return;const e="decode"in this.element;this.isImageContent()?e&&this.slide&&(!this.slide.isActive||j())?(this.isDecoding=!0,this.element.decode().catch(()=>{}).finally(()=>{this.isDecoding=!1,this.appendImage()})):this.appendImage():this.slide&&!this.element.parentNode&&this.slide.container.appendChild(this.element)}activate(){if(this.instance.dispatch("contentActivate",{content:this}).defaultPrevented||!this.slide)return;this.isImageContent()&&this.isDecoding&&!j()?this.appendImage():this.isError()&&this.load(!1,!0),this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","false")}deactivate(){this.instance.dispatch("contentDeactivate",{content:this}),this.slide&&this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","true")}remove(){if(this.isAttached=!1,this.instance.dispatch("contentRemove",{content:this}).defaultPrevented)return;this.element&&this.element.parentNode&&this.element.remove(),this.placeholder&&this.placeholder.element&&this.placeholder.element.remove()}appendImage(){if(!this.isAttached)return;if(this.instance.dispatch("contentAppendImage",{content:this}).defaultPrevented)return;this.slide&&this.element&&!this.element.parentNode&&this.slide.container.appendChild(this.element),(this.state===g.LOADED||this.state===g.ERROR)&&this.removePlaceholder()}}const at=5;function J(e,t,i){const o=t.createContentFromData(e,i);let n;const{options:s}=t;if(s){n=new G(s,e,-1);let a;t.pswp?a=t.pswp.viewportSize:a=N(s,t);const r=U(s,a,e,i);n.update(o.width,o.height,r)}return o.lazyLoad(),n&&o.setDisplayedSize(Math.ceil(o.width*n.initial),Math.ceil(o.height*n.initial)),o}function rt(e,t){const i=t.getItemData(e);return t.dispatch("lazyLoadSlide",{index:e,itemData:i}).defaultPrevented?void 0:J(i,t,e)}class lt{constructor(e){this.pswp=e,this.limit=Math.max(e.options.preload[0]+e.options.preload[1]+1,at),this._cachedItems=[]}updateLazy(e){const{pswp:t}=this;if(t.dispatch("lazyLoad").defaultPrevented)return;const{preload:i}=t.options,o=e===void 0?!0:e>=0;let n;for(n=0;n<=i[1];n++)this.loadSlideByIndex(t.currIndex+(o?n:-n));for(n=1;n<=i[0];n++)this.loadSlideByIndex(t.currIndex+(o?-n:n))}loadSlideByIndex(e){const t=this.pswp.getLoopedIndex(e);let i=this.getContentByIndex(t);i||(i=rt(t,this.pswp),i&&this.addToCache(i))}getContentBySlide(e){let t=this.getContentByIndex(e.index);return t||(t=this.pswp.createContentFromData(e.data,e.index),this.addToCache(t)),t.setSlide(e),t}addToCache(e){if(this.removeByIndex(e.index),this._cachedItems.push(e),this._cachedItems.length>this.limit){const t=this._cachedItems.findIndex(i=>!i.isAttached&&!i.hasSlide);if(t!==-1){const i=this._cachedItems.splice(t,1)[0];i.destroy()}}}removeByIndex(e){const t=this._cachedItems.findIndex(i=>i.index===e);t!==-1&&this._cachedItems.splice(t,1)}getContentByIndex(e){return this._cachedItems.find(t=>t.index===e)}destroy(){this._cachedItems.forEach(e=>e.destroy()),this._cachedItems=[]}}class pt extends ot{getNumItems(){var e;let t=0;const i=(e=this.options)===null||e===void 0?void 0:e.dataSource;i&&"length"in i?t=i.length:i&&"gallery"in i&&(i.items||(i.items=this._getGalleryDOMElements(i.gallery)),i.items&&(t=i.items.length));const o=this.dispatch("numItems",{dataSource:i,numItems:t});return this.applyFilters("numItems",o.numItems,i)}createContentFromData(e,t){return new st(e,this,t)}getItemData(e){var t;const i=(t=this.options)===null||t===void 0?void 0:t.dataSource;let o={};Array.isArray(i)?o=i[e]:i&&"gallery"in i&&(i.items||(i.items=this._getGalleryDOMElements(i.gallery)),o=i.items[e]);let n=o;n instanceof Element&&(n=this._domElementToItemData(n));const s=this.dispatch("itemData",{itemData:n||{},index:e});return this.applyFilters("itemData",s.itemData,e)}_getGalleryDOMElements(e){var t,i;return(t=this.options)!==null&&t!==void 0&&t.children||(i=this.options)!==null&&i!==void 0&&i.childSelector?ge(this.options.children,this.options.childSelector,e)||[]:[e]}_domElementToItemData(e){const t={element:e},i=e.tagName==="A"?e:e.querySelector("a");if(i){t.src=i.dataset.pswpSrc||i.href,i.dataset.pswpSrcset&&(t.srcset=i.dataset.pswpSrcset),t.width=i.dataset.pswpWidth?parseInt(i.dataset.pswpWidth,10):0,t.height=i.dataset.pswpHeight?parseInt(i.dataset.pswpHeight,10):0,t.w=t.width,t.h=t.height,i.dataset.pswpType&&(t.type=i.dataset.pswpType);const n=e.querySelector("img");if(n){var o;t.msrc=n.currentSrc||n.src,t.alt=(o=n.getAttribute("alt"))!==null&&o!==void 0?o:""}(i.dataset.pswpCropped||i.dataset.cropped)&&(t.thumbCropped=!0)}return this.applyFilters("domItemData",t,e,i)}lazyLoadData(e,t){return J(e,this,t)}}const x=.003;class dt{constructor(e){this.pswp=e,this.isClosed=!0,this.isOpen=!1,this.isClosing=!1,this.isOpening=!1,this._duration=void 0,this._useAnimation=!1,this._croppedZoom=!1,this._animateRootOpacity=!1,this._animateBgOpacity=!1,this._placeholder=void 0,this._opacityElement=void 0,this._cropContainer1=void 0,this._cropContainer2=void 0,this._thumbBounds=void 0,this._prepareOpen=this._prepareOpen.bind(this),e.on("firstZoomPan",this._prepareOpen)}open(){this._prepareOpen(),this._start()}close(){if(this.isClosed||this.isClosing||this.isOpening)return;const e=this.pswp.currSlide;this.isOpen=!1,this.isOpening=!1,this.isClosing=!0,this._duration=this.pswp.options.hideAnimationDuration,e&&e.currZoomLevel*e.width>=this.pswp.options.maxWidthToAnimate&&(this._duration=0),this._applyStartProps(),setTimeout(()=>{this._start()},this._croppedZoom?30:0)}_prepareOpen(){if(this.pswp.off("firstZoomPan",this._prepareOpen),!this.isOpening){const e=this.pswp.currSlide;this.isOpening=!0,this.isClosing=!1,this._duration=this.pswp.options.showAnimationDuration,e&&e.zoomLevels.initial*e.width>=this.pswp.options.maxWidthToAnimate&&(this._duration=0),this._applyStartProps()}}_applyStartProps(){const{pswp:e}=this,t=this.pswp.currSlide,{options:i}=e;if(i.showHideAnimationType==="fade"?(i.showHideOpacity=!0,this._thumbBounds=void 0):i.showHideAnimationType==="none"?(i.showHideOpacity=!1,this._duration=0,this._thumbBounds=void 0):this.isOpening&&e._initialThumbBounds?this._thumbBounds=e._initialThumbBounds:this._thumbBounds=this.pswp.getThumbBounds(),this._placeholder=t==null?void 0:t.getPlaceholderElement(),e.animations.stopAll(),this._useAnimation=Boolean(this._duration&&this._duration>50),this._animateZoom=Boolean(this._thumbBounds)&&(t==null?void 0:t.content.usePlaceholder())&&(!this.isClosing||!e.mainScroll.isShifted()),!this._animateZoom)this._animateRootOpacity=!0,this.isOpening&&t&&(t.zoomAndPanToInitial(),t.applyCurrentZoomPan());else{var o;this._animateRootOpacity=(o=i.showHideOpacity)!==null&&o!==void 0?o:!1}if(this._animateBgOpacity=!this._animateRootOpacity&&this.pswp.options.bgOpacity>x,this._opacityElement=this._animateRootOpacity?e.element:e.bg,!this._useAnimation){this._duration=0,this._animateZoom=!1,this._animateBgOpacity=!1,this._animateRootOpacity=!0,this.isOpening&&(e.element&&(e.element.style.opacity=String(x)),e.applyBgOpacity(1));return}if(this._animateZoom&&this._thumbBounds&&this._thumbBounds.innerRect){var n;this._croppedZoom=!0,this._cropContainer1=this.pswp.container,this._cropContainer2=(n=this.pswp.currSlide)===null||n===void 0?void 0:n.holderElement,e.container&&(e.container.style.overflow="hidden",e.container.style.width=e.viewportSize.x+"px")}else this._croppedZoom=!1;this.isOpening?(this._animateRootOpacity?(e.element&&(e.element.style.opacity=String(x)),e.applyBgOpacity(1)):(this._animateBgOpacity&&e.bg&&(e.bg.style.opacity=String(x)),e.element&&(e.element.style.opacity="1")),this._animateZoom&&(this._setClosedStateZoomPan(),this._placeholder&&(this._placeholder.style.willChange="transform",this._placeholder.style.opacity=String(x)))):this.isClosing&&(e.mainScroll.itemHolders[0]&&(e.mainScroll.itemHolders[0].el.style.display="none"),e.mainScroll.itemHolders[2]&&(e.mainScroll.itemHolders[2].el.style.display="none"),this._croppedZoom&&(e.mainScroll.x!==0&&(e.mainScroll.resetPosition(),e.mainScroll.resize())))}_start(){this.isOpening&&this._useAnimation&&this._placeholder&&this._placeholder.tagName==="IMG"?new Promise(e=>{let t=!1,i=!0;ue(this._placeholder).finally(()=>{t=!0,i||e(!0)}),setTimeout(()=>{i=!1,t&&e(!0)},50),setTimeout(e,250)}).finally(()=>this._initiate()):this._initiate()}_initiate(){var e,t;(e=this.pswp.element)===null||e===void 0||e.style.setProperty("--pswp-transition-duration",this._duration+"ms"),this.pswp.dispatch(this.isOpening?"openingAnimationStart":"closingAnimationStart"),this.pswp.dispatch("initialZoom"+(this.isOpening?"In":"Out")),(t=this.pswp.element)===null||t===void 0||t.classList.toggle("pswp--ui-visible",this.isOpening),this.isOpening?(this._placeholder&&(this._placeholder.style.opacity="1"),this._animateToOpenState()):this.isClosing&&this._animateToClosedState(),this._useAnimation||this._onAnimationComplete()}_onAnimationComplete(){const{pswp:e}=this;if(this.isOpen=this.isOpening,this.isClosed=this.isClosing,this.isOpening=!1,this.isClosing=!1,e.dispatch(this.isOpen?"openingAnimationEnd":"closingAnimationEnd"),e.dispatch("initialZoom"+(this.isOpen?"InEnd":"OutEnd")),this.isClosed)e.destroy();else if(this.isOpen){var t;this._animateZoom&&e.container&&(e.container.style.overflow="visible",e.container.style.width="100%"),(t=e.currSlide)===null||t===void 0||t.applyCurrentZoomPan()}}_animateToOpenState(){const{pswp:e}=this;this._animateZoom&&(this._croppedZoom&&this._cropContainer1&&this._cropContainer2&&(this._animateTo(this._cropContainer1,"transform","translate3d(0,0,0)"),this._animateTo(this._cropContainer2,"transform","none")),e.currSlide&&(e.currSlide.zoomAndPanToInitial(),this._animateTo(e.currSlide.container,"transform",e.currSlide.getCurrentTransform()))),this._animateBgOpacity&&e.bg&&this._animateTo(e.bg,"opacity",String(e.options.bgOpacity)),this._animateRootOpacity&&e.element&&this._animateTo(e.element,"opacity","1")}_animateToClosedState(){const{pswp:e}=this;this._animateZoom&&this._setClosedStateZoomPan(!0),this._animateBgOpacity&&e.bgOpacity>.01&&e.bg&&this._animateTo(e.bg,"opacity","0"),this._animateRootOpacity&&e.element&&this._animateTo(e.element,"opacity","0")}_setClosedStateZoomPan(e){if(!this._thumbBounds)return;const{pswp:t}=this,{innerRect:i}=this._thumbBounds,{currSlide:o,viewportSize:n}=t;if(this._croppedZoom&&i&&this._cropContainer1&&this._cropContainer2){const s=-n.x+(this._thumbBounds.x-i.x)+i.w,a=-n.y+(this._thumbBounds.y-i.y)+i.h,r=n.x-i.w,l=n.y-i.h;e?(this._animateTo(this._cropContainer1,"transform",E(s,a)),this._animateTo(this._cropContainer2,"transform",E(r,l))):(v(this._cropContainer1,s,a),v(this._cropContainer2,r,l))}o&&(h(o.pan,i||this._thumbBounds),o.currZoomLevel=this._thumbBounds.w/o.width,e?this._animateTo(o.container,"transform",o.getCurrentTransform()):o.applyCurrentZoomPan())}_animateTo(e,t,i){if(!this._duration){e.style[t]=i;return}const{animations:o}=this.pswp,n={duration:this._duration,easing:this.pswp.options.easing,onComplete:()=>{o.activeAnimations.length||this._onAnimationComplete()},target:e};n[t]=i,o.startTransition(n)}}const ht={allowPanToNext:!0,spacing:.1,loop:!0,pinchToClose:!0,closeOnVerticalDrag:!0,hideAnimationDuration:333,showAnimationDuration:333,zoomAnimationDuration:333,escKey:!0,arrowKeys:!0,returnFocus:!0,maxWidthToAnimate:4e3,clickToCloseNonZoomable:!0,imageClickAction:"zoom-or-close",bgClickAction:"close",tapAction:"toggle-controls",doubleTapAction:"zoom",indexIndicatorSep:" / ",preloaderDelay:2e3,bgOpacity:.8,index:0,errorMsg:"The image cannot be loaded",preload:[1,2],easing:"cubic-bezier(.4,0,.22,1)"};class Q extends pt{constructor(e){super();this.options=this._prepareOptions(e||{}),this.offset={x:0,y:0},this._prevViewportSize={x:0,y:0},this.viewportSize={x:0,y:0},this.bgOpacity=1,this.currIndex=0,this.potentialIndex=0,this.isOpen=!1,this.isDestroying=!1,this.hasMouse=!1,this._initialItemData={},this._initialThumbBounds=void 0,this.topBar=void 0,this.element=void 0,this.template=void 0,this.container=void 0,this.scrollWrap=void 0,this.currSlide=void 0,this.events=new ye,this.animations=new Ne,this.mainScroll=new Me(this),this.gestures=new Ae(this),this.opener=new dt(this),this.keyboard=new ke(this),this.contentLoader=new lt(this)}init(){if(this.isOpen||this.isDestroying)return!1;this.isOpen=!0,this.dispatch("init"),this.dispatch("beforeOpen"),this._createMainStructure();let e="pswp--open";return this.gestures.supportsTouch&&(e+=" pswp--touch"),this.options.mainClass&&(e+=" "+this.options.mainClass),this.element&&(this.element.className+=" "+e),this.currIndex=this.options.index||0,this.potentialIndex=this.currIndex,this.dispatch("firstUpdate"),this.scrollWheel=new Ue(this),(Number.isNaN(this.currIndex)||this.currIndex<0||this.currIndex>=this.getNumItems())&&(this.currIndex=0),this.gestures.supportsTouch||this.mouseDetected(),this.updateSize(),this.offset.y=window.pageYOffset,this._initialItemData=this.getItemData(this.currIndex),this.dispatch("gettingData",{index:this.currIndex,data:this._initialItemData,slide:void 0}),this._initialThumbBounds=this.getThumbBounds(),this.dispatch("initialLayout"),this.on("openingAnimationEnd",()=>{const{itemHolders:t}=this.mainScroll;t[0]&&(t[0].el.style.display="block",this.setContent(t[0],this.currIndex-1)),t[2]&&(t[2].el.style.display="block",this.setContent(t[2],this.currIndex+1)),this.appendHeavy(),this.contentLoader.updateLazy(),this.events.add(window,"resize",this._handlePageResize.bind(this)),this.events.add(window,"scroll",this._updatePageScrollOffset.bind(this)),this.dispatch("bindEvents")}),this.mainScroll.itemHolders[1]&&this.setContent(this.mainScroll.itemHolders[1],this.currIndex),this.dispatch("change"),this.opener.open(),this.dispatch("afterInit"),!0}getLoopedIndex(e){const t=this.getNumItems();return this.options.loop&&(e>t-1&&(e-=t),e<0&&(e+=t)),_(e,0,t-1)}appendHeavy(){this.mainScroll.itemHolders.forEach(e=>{var t;(t=e.slide)===null||t===void 0||t.appendHeavy()})}goTo(e){this.mainScroll.moveIndexBy(this.getLoopedIndex(e)-this.potentialIndex)}next(){this.goTo(this.potentialIndex+1)}prev(){this.goTo(this.potentialIndex-1)}zoomTo(...e){var t;(t=this.currSlide)===null||t===void 0||t.zoomTo(...e)}toggleZoom(){var e;(e=this.currSlide)===null||e===void 0||e.toggleZoom()}close(){if(!this.opener.isOpen||this.isDestroying)return;this.isDestroying=!0,this.dispatch("close"),this.events.removeAll(),this.opener.close()}destroy(){var e;if(!this.isDestroying){this.options.showHideAnimationType="none",this.close();return}this.dispatch("destroy"),this._listeners={},this.scrollWrap&&(this.scrollWrap.ontouchmove=null,this.scrollWrap.ontouchend=null),(e=this.element)===null||e===void 0||e.remove(),this.mainScroll.itemHolders.forEach(t=>{var i;(i=t.slide)===null||i===void 0||i.destroy()}),this.contentLoader.destroy(),this.events.removeAll()}refreshSlideContent(e){this.contentLoader.removeByIndex(e),this.mainScroll.itemHolders.forEach((t,i)=>{var o,n;let s=((o=(n=this.currSlide)===null||n===void 0?void 0:n.index)!==null&&o!==void 0?o:0)-1+i;if(this.canLoop()&&(s=this.getLoopedIndex(s)),s===e&&(this.setContent(t,e,!0),i===1)){var a;this.currSlide=t.slide,(a=t.slide)===null||a===void 0||a.setIsActive(!0)}}),this.dispatch("change")}setContent(e,t,i){if(this.canLoop()&&(t=this.getLoopedIndex(t)),e.slide){if(e.slide.index===t&&!i)return;e.slide.destroy(),e.slide=void 0}if(!this.canLoop()&&(t<0||t>=this.getNumItems()))return;const o=this.getItemData(t);e.slide=new we(o,t,this),t===this.currIndex&&(this.currSlide=e.slide),e.slide.append(e.el)}getViewportCenterPoint(){return{x:this.viewportSize.x/2,y:this.viewportSize.y/2}}updateSize(e){if(this.isDestroying)return;const t=N(this.options,this);if(!e&&P(t,this._prevViewportSize))return;h(this._prevViewportSize,t),this.dispatch("beforeResize"),h(this.viewportSize,this._prevViewportSize),this._updatePageScrollOffset(),this.dispatch("viewportSize"),this.mainScroll.resize(this.opener.isOpen),!this.hasMouse&&window.matchMedia("(any-hover: hover)").matches&&this.mouseDetected(),this.dispatch("resize")}applyBgOpacity(e){this.bgOpacity=Math.max(e,0),this.bg&&(this.bg.style.opacity=String(this.bgOpacity*this.options.bgOpacity))}mouseDetected(){if(!this.hasMouse){var e;this.hasMouse=!0,(e=this.element)===null||e===void 0||e.classList.add("pswp--has_mouse")}}_handlePageResize(){this.updateSize(),/iPhone|iPad|iPod/i.test(window.navigator.userAgent)&&setTimeout(()=>{this.updateSize()},500)}_updatePageScrollOffset(){this.setScrollOffset(0,window.pageYOffset)}setScrollOffset(e,t){this.offset.x=e,this.offset.y=t,this.dispatch("updateScrollOffset")}_createMainStructure(){this.element=u("pswp","div"),this.element.setAttribute("tabindex","-1"),this.element.setAttribute("role","dialog"),this.template=this.element,this.bg=u("pswp__bg","div",this.element),this.scrollWrap=u("pswp__scroll-wrap","section",this.element),this.container=u("pswp__container","div",this.scrollWrap),this.scrollWrap.setAttribute("aria-roledescription","carousel"),this.container.setAttribute("aria-live","off"),this.container.setAttribute("id","pswp__items"),this.mainScroll.appendHolders(),this.ui=new Je(this),this.ui.init(),(this.options.appendToEl||document.body).appendChild(this.element)}getThumbBounds(){return tt(this.currIndex,this.currSlide?this.currSlide.data:this._initialItemData,this)}canLoop(){return this.options.loop&&this.getNumItems()>2}_prepareOptions(e){return window.matchMedia("(prefers-reduced-motion), (update: slow)").matches&&(e.showHideAnimationType="none",e.zoomAnimationDuration=0),{...ht,...e}}}const mt=document.currentScript.src.indexOf("?preview")>=0,ct={gallery:"#gallery",children:".gallery-item",pswpModule:Q},z=new H(ct);z.addFilter("itemData",(e,t)=>{const i=e.element.dataset,o=e.element.querySelector("img");return e.src=i.pswpSrc,e.w=i.pswpWidth,e.h=i.pswpHeight,e.msrc=o.src,e.thumbCropped=!0,i.embedUrl&&(e.type="embed",e.embedUrl=i.embedUrl),e});z.on("contentLoad",e=>{const{content:t}=e;if(t.type==="embed"){e.preventDefault(),t.element=document.createElement("div"),t.element.className="pswp__embed-container";const i=document.createElement("iframe");i.setAttribute("allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"),i.setAttribute("allowfullscreen",""),i.style.position="absolute",i.style.background="#f5f5f5",i.style.left="50%",i.style.top="50%",i.style.width="100%",i.style.maxWidth="1024px",i.style.aspectRatio=String(16/9),i.style.transform="translate(-50%,-50%)",i.src=t.data.embedUrl,t.element.appendChild(i)}});z.on("contentAppend",({content:e})=>{e.element.addEventListener("contextmenu",t=>(t.preventDefault(),!1))});mt||z.init();})();
/*!
  * PhotoSwipe 5.4.0 - https://photoswipe.com
  * (c) 2023 Dmytro Semenov
  */
/*!
  * PhotoSwipe Lightbox 5.4.0 - https://photoswipe.com
  * (c) 2023 Dmytro Semenov
  */
